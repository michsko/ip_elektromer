{% extends 'elektromer_app/base.html' %}
	{% load static %}
	{% block content %}

	

<container>

	<div class="container" style=" min-width: 90vw;">
<br><br>

<h1>SVJ</h1>


<a type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#svjModal" title="Timto tlačítkem můžete přidat společenství vlastníků bytových jednotek." href=''>&nbsp; Přídat Společenství vlastníků &nbsp;</a></td>

<div class="modal" id="svjModal" tabindex="-1">

  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Přidat Společenství vlastníků </h5>
       
      </div>
      <form id="solar_form" action='{% url "svj_add" %}' enctype="multipart/form-data" method="POST">
      	<div class="modal-body">
     {% load crispy_forms_tags %}
	
	{% csrf_token %}

    {{ form|crispy}}
	 
      <button type="submit" class="btn btn-success">Uložit</button>
      <button type="button" class="btn btn-secondary" data-bs-dismiss='modal'>Zrušit</button>
  </div>
</form>
    </div>
  </div>
</div>


<br><br><br>

	<center>
		<div class="tabulka">
			<table class="table">
			  <thead>
			    <tr>
			      <th scope="col">ID</th>
			      <th scope="col">Datum zapojení</th>
			      <th scope="col">Datum ukončení</th>
			      <th scope="col">Název</th>
			      <th scope="col">Ulice</th>
			      <th scope="col">č.o</th>
			      <th scope="col">č.p</th>
			      <th scope="col">Město</th>
			      <th scope="col">Psč</th>
			      <th scope="col">Číslo účtu</th>
			      <th scope="col">Dodavatel el.</th>
				  <th scope="col">Počet bytů</th>
				  <th scope="col">upravit</th>
			      <th scope="col">smazat</th>
			  
				 

			      
			    </tr>
			  </thead>
			  <tbody>
			  	{% for svj in all_svj %}
			    	<tr>
				      <th scope="row">{{svj.identification_number}}</th>
				      <td>{{svj.from_date}}</td>
				      {% if svj.to_date == None %}
				      <td class="aktivni" style="color: green;"> aktivní </td>
				      {% else %}
				      <tdclass="ukoncene" style="color: red;">{{svj.to_date}}</td>
				      {% endif %}
				      <td>{{svj.name}}</td>
				      <td>{{svj.address_street}}</td>
				      <td>{{svj.address_orientation_number}}</td>
				      <td>{{svj.address_number_subscription}}</td>
				      <td>{{svj.address_city}}</td>
				      <td>{{svj.address_postal_code}}</td>
				      <td>{{svj.account_number}}</td>
				      <td>{{svj.energy_supply}}</td>
				      <td>{{svj.number_of_flats}}</td>

				      <td><button type="button" class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#upravitModal" title="Timto tlačítkem můžete změnit informace o tomto bytu." href=''>&nbsp; Upravit &nbsp;</button></td>

					  <td><a type="button" class="btn btn-outline-danger" data-bs-toggle="tooltip" title="Timto tlačítkem nevratně smažete tento byt."  href='{% url "svj_delete" svj.id %}'>&nbsp;Smazat&nbsp;</a></td>
			    	</tr>
			    	</tr>


					</form>

					<div class="modal" id="upravitModal" tabindex="-1">

					  <div class="modal-dialog modal-lg">
					    <div class="modal-content">
					      <div class="modal-header">
					        <h5 class="modal-title">Upravit SVJ </h5>
					       
					      </div>
					      <form id="solar_form" action='{% url "svj_update" svj.id %}' enctype="multipart/form-data" method="POST">
					      	<div class="modal-body">
					     {% load crispy_forms_tags %}
						
						{% csrf_token %}

					    {{ form2|crispy}}
						 
					      <button type="submit" class="btn btn-success">Uložit</button>
					      <button type="button" class="btn btn-secondary" data-bs-dismiss='modal'>Zrušit</button>
					  </div>
					    </div>
					  </div>
					</div>

			    {% endfor %}

				

			  </tbody>
			</table>
    	</div>
	<center>
<container>

	{% endblock %} 